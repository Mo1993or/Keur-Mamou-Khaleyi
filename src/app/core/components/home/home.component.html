

<section class="home">
    <div class="mb-20">
   <app-carousel class="mb-20" ></app-carousel>
   </div>
    <!-- <img src="assets/images/1.png"  class="mb-20" alt="brand" width="100%" height="50px"/> -->
    

        <article class="mb-10">
        <div class="text-black-500 flex flex-col justify-center items-center mb-10">
        <h3 class="text-2xl font-bold mb-10">Nouveaux Articles</h3>
    </div>
        <div class="flex justify-center items-center h-[60vh]" *ngIf="error && isLoading">
            <div class="text-red-500 flex flex-col justify-center items-center">
              <i class="fa-solid fa-circle-exclamation text-6xl"></i>
            <h4 class="text-md px-4 py-2">HTTP ERROR Occured</h4>
          </div>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-4 lg:grid-cols-6 gap-5" *ngIf="!error && isLoading">
            <app-cardskeleton
            *ngFor="let skeleton of skeletons"
            ></app-cardskeleton>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-4 lg:grid-cols-6 gap-5 mb-20" *ngIf="!isLoading && products.length>0">
            <div *ngFor="let product of products" class="relative flex flex-row justify-between mx-auto md:flex-col w-full max-w-md bg-white hover:border border-gray-300 mb-10">
                <a [routerLink]="['categories','product',product._id]" class="w-[50%] sm:w-[40%] md:w-full overflow-hidden">
                    <img 
                    class="transition-all duration-500 hover:scale-110 "
                    [src]="product.images[0]" 
                    [alt]="product.title" />
                </a>
                
                <div class="flex flex-col justify-stretch self-center p-5 w-[60%] md:w-full">
                    <a [routerLink]="['categories','product',product._id]">
                        <h5 class="mb-2 text-sm tracking-tight text-gray-900 dark:text-white ">{{product.title}}</h5>
                    </a>
                    <p class="text-sm text-gray-700 dark:text-gray-400">
                       <span class="font-bold mr-3">FCFA {{product.price}}</span> 
                       <span class="line-through mr-3" *ngIf="product.prevprice!=0">FCFA{{product.prevprice}}</span> 
                    </p>                    
                    <ng-template #addtocart>
                        <button 
                        *ngIf="product.stock=='disponible'"
                        class="px-4 py-1 bg-[#0798B3] text-white"
                        (click)="addToCart(product)">
                        <i title="Shopping Cart" class="fa-solid fa-cart-shopping mr-2"></i>
                          Ajouter au panier
                        </button>
                      </ng-template>
                      <button 
                      class="px-4 py-1 bg-red-800 text-white"
                      (click)="removeFromCart(product)"
                      *ngIf="isProductInCart(product); else addtocart">
                        <i class="fa-solid fa-trash mr-2"></i>
                        Supprimer
                      </button>
                    <div class="absolute top-2 left-5 md:right-5 flex justify-end gap-4 items-center">
        
                        <span *ngIf="product.stock=='disponible'; else outofstock" class="w-[80px] bg-green-600 text-white text-center text-xs p-1 rounded">
                            {{product.stock}}
                        </span>
                        <ng-template #outofstock>
                            <span class="w-[80px] bg-yellow-600 text-white text-center text-xs p-1 rounded" >
                            {{product.stock}}
                            </span>
                        </ng-template>
                        
                        <button 
                        aria-label="add to wishlist"
                        class="bg-white border border-gray-300 rounded h-[35px] w-[35px]"
                        title="Add to Wishlist"
                        >
                            <i class="fa-regular fa-heart"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div class="text-black-500 flex flex-col justify-center items-center mb-10">
        <h3 class="text-2xl font-semibold mb-20 sm-10">À propos de nous</h3>
        <img src="assets/images/2.png"  class="mb-20" alt="brand" width="100%" height="50px"/>
        </div>
        <div class="text-black-500 flex flex-col justify-center items-center mb-10">
            <h3 class="text-2xl font-semibold mb-20 sm-10">Notre Vision</h3>
            <img src="assets/images/3.png"  class="mb-20" alt="brand" width="100%" height="50px"/>
        </div>
        <div class="text-black-500 flex flex-col justify-center items-center mb-10">
            <h3 class="text-2xl font-semibold mb-20 sm-10">Témoignages</h3>
            <img src="assets/images/4.png"  class="mb-20" alt="brand" width="100%" height="50px"/>
        </div>
    </article>
</section>